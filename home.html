<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mountain Province State University Library</title>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<style>
body {margin:0; font-family:'Times New Roman', Times, serif;}
.words{
    background:#002a01;
    padding:15px;
    display:flex;
    align-items:flex-start;
}
.words img{width:100px; height:100px;}
.words h1,.words p{color:white;margin:0;}
.header1{margin-left:15px;}
.nav1{
    background:#006800;
    display:flex;
    align-items:center;
    padding:10px;
}
.left{display:flex;gap:20px;}
.left a{
    color:white;
    text-decoration:none;
    font-weight:bold;
}
.left a:hover{color:black;}
.carousel-item{
    width:100%;
    height:500px;
}
.carousel-item img{
    width:100%;
    height:100%;
    object-fit:contain;
}
.carousel-control-prev-icon,
.carousel-control-next-icon{
    background-color:black;
    background-size:100%,100%;
    border-radius:50%;
}
.intro{
    text-align:center;
    padding:50px 20px;
}
h2.section-heading{
    text-align:center;
    margin:30px 0 20px 0;
    font-weight:bold;
}
.book-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
    gap:20px;
    padding:20px;
}
.book{
    background:#f5f5f5;
    padding:15px;
    border-radius:10px;
    text-align:center;
    transition:.3s;
    cursor:pointer;
}
.book:hover{
    background:#dcdcdc;
    transform:scale(1.03);
}
.book img{
    width:150px;
    height:200px;
    object-fit:cover;
    border-radius:8px;
}
.status{
    font-weight:bold;
    margin-top:8px;
    padding:5px;
    border-radius:5px;
}
.available{color:green;}
.lowstock{color:orange;}
.out{color:red;}
.modal-bg{
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,.6);
    justify-content:center;
    align-items:center;
    z-index:1000;
}
.modal-box{
    background:white;
    width:90%;
    max-width:450px;
    padding:20px;
    border-radius:12px;
    text-align:center;
}
.modal-box img{
    width:180px;
    height:230px;
    object-fit:cover;
    margin-bottom:15px;
}
.close-btn,.borrow-btn,.read-btn,.download-btn{
    margin-top:10px;
    padding:8px 20px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
.close-btn{background:#006800;color:white;}
.close-btn:hover{background:#004600;}
.borrow-btn{background:#008000;color:white;margin-right:5px;}
.borrow-btn:disabled{background:gray;cursor:not-allowed;}
.read-btn{background:#007bff;color:white;margin-right:5px;}
.download-btn{background:#ff6600;color:white;}
footer{
    background:#006800;
    color:white;
    text-align:center;
    padding:20px;
    margin-top:40px;
}
footer img{width:50px; height:50px; margin-bottom:10px;}
footer a{color:white; text-decoration:none;}
.logout-btn {
    color: white;
    font-weight: bold;
    text-decoration: none;
}

.logout-btn:hover {
    color: red;
}
</style>
</head>
<body>

<!-- Header -->
<div class="words">
    <img src="LMS IMG/logo.jpg">
    <div class="header1">
        <h1>Mountain Province State University</h1>
        <p>Bontoc Campus</p>
        <p>Library</p>
    </div>
</div>

<nav class="nav1">
    <div class="left">
        <a href="home.html">HOME</a>
        <a href="bookpage.html">BOOK</a>
        <a href="borrowing.html">BOOKS BORROWED</a>
    </div>
    <div class="right" style="margin-left:auto;">
        <a href="index.html" class="logout-btn">LOG OUT</a>
    </div>
</nav>


<!-- Carousel -->
<div id="carouselExampleIndicators" class="carousel slide">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active"><img src="LMS IMG/ps.jpg" alt=""></div>
    <div class="carousel-item"><img src="LMS IMG/it.jpg" alt=""></div>
    <div class="carousel-item"><img src="LMS IMG/accountant.jpg" alt=""></div>
    <div class="carousel-item"><img src="LMS IMG/nursing.jpg" alt=""></div>
    <div class="carousel-item"><img src="LMS IMG/educ.jpg" alt=""></div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Intro -->
<p class="intro">ðŸ“š Welcome to the School Library Portal! Browse our collections, check availability, and borrow or read online easily.</p>

<!-- Popular Books Heading -->
<h2 class="section-heading">POPULAR BOOKS</h2>

<!-- Book Grid -->
<div class="book-grid" id="bookGrid"></div>

<!-- Modal -->
<div class="modal-bg" id="modalBg">
    <div class="modal-box">
        <img id="modalImage">
        <h2 id="modalTitle"></h2>
        <p><b>Author:</b> <span id="modalAuthor"></span></p>
        <p><b>Category:</b> <span id="modalCategory"></span></p>
        <p><b>Status:</b> <span id="modalStatus"></span></p>
        <p id="modalDesc"></p>
        <button class="borrow-btn" id="borrowButton" onclick="goToBorrow()">Borrow</button>
        <button class="read-btn">Read Online</button>
        <button class="download-btn">Download PDF</button>
        <button class="close-btn" onclick="closeModal()">Close</button>
    </div>
</div>

<!-- Footer -->
<footer>
    <img src="LMS IMG/logo.jpg">
    <p><strong>For More Information Contact:</strong></p>
    <a href="https://www.facebook.com/mpsu1969/">https://www.facebook.com/mpsu1969/</a>
    <p>MPSU@gmail.com</p>
    <p style="font-family: cursive;">@All rights reserved</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Book Data
let selectedBook = "";
let booksList = [
    {title:"Programming Fundamentals", author:"Joyce Farrell", category:"IT", image:"it/it1.jpg", desc:"Intro to coding.", status:"Available"},
    {title:"Networking Basics", author:"James F. Kurose", category:"IT", image:"it/it2.jpg", desc:"Network protocols.", status:"1 stock"},
    {title:"Web Development", author:"Jon Duckett", category:"IT", image:"it/it3.jpg", desc:"HTML, CSS, JS.", status:"Available"},
    {title:"Database Systems", author:"Elmasri & Navathe", category:"IT", image:"it/it4.jpg", desc:"Relational DB concepts.", status:"2 stocks"},
    {title:"Software Engineering", author:"Ian Sommerville", category:"IT", image:"it/it5.jpg", desc:"Software lifecycle.", status:"Available"},
    {title:"Criminal Investigation", author:"Charles R. Swanson", category:"Criminology", image:"ps/c1.jpg", desc:"Crime detection guide.", status:"Available"},
    {title:"Forensic Science", author:"Richard Saferstein", category:"Criminology", image:"ps/c2.jpg", desc:"Modern forensic science.", status:"Out of Stock"},
    {title:"Criminology Today", author:"Frank E. Hagan", category:"Criminology", image:"ps/c3.jpg", desc:"Overview of criminology theories.", status:"3 stocks"},
    {title:"Law Enforcement Ethics", author:"David Roberts", category:"Criminology", image:"ps/c4.jpg", desc:"Ethical issues in policing.", status:"Available"},
    {title:"Fundamentals of Nursing", author:"Patricia Potter", category:"Nursing", image:"LMS IMG/nursing.jpg", desc:"Core nursing concepts.", status:"2 stocks"},
    {title:"Medical-Surgical Nursing", author:"Ignatavicius & Workman", category:"Nursing", image:"LMS IMG/msn.jpg", desc:"MS nursing concepts.", status:"Out of Stock"},
    {title:"Intro to Political Science", author:"Robert A. Dahl", category:"Political Science", image:"ps/ps1.jpg", desc:"Foundations of politics.", status:"Available"},
    {title:"Comparative Politics", author:"William Roberts", category:"Political Science", image:"ps/ps2.jpg", desc:"Political systems comparison.", status:"1 stock"},
    {title:"International Relations", author:"Joshua Goldstein", category:"Political Science", image:"ps/ps3.jpg", desc:"Global politics.", status:"Available"},
    {title:"Political Theory", author:"Andrew Heywood", category:"Political Science", image:"ps/ps4.jpg", desc:"Political ideologies.", status:"Available"}
];

// Load Books
function loadBooks(){
    let grid = document.getElementById("bookGrid");
    grid.innerHTML = "";
    booksList.forEach(book =>{
        let statusClass = getStatusClass(book.status);
        grid.innerHTML += `
        <div class="book"
             data-title="${book.title}"
             data-author="${book.author}"
             data-category="${book.category}"
             data-desc="${book.desc}"
             data-image="${book.image}"
             data-status="${book.status}"
             onclick="openModal(this)">
            <img src="${book.image}">
            <h4>${book.title}</h4>
            <p><b>Author:</b> ${book.author}</p>
            <p><b>Category:</b> ${book.category}</p>
            <p class="status ${statusClass}">${book.status}</p>
        </div>`;
    });
}

function getStatusClass(status){
    if(status.toLowerCase().includes("available")) return "available";
    if(status.toLowerCase().includes("out")) return "out";
    return "lowstock";
}

function openModal(book){
    selectedBook = book.dataset.title;
    document.getElementById("modalImage").src = book.dataset.image;
    document.getElementById("modalTitle").innerText = book.dataset.title;
    document.getElementById("modalAuthor").innerText = book.dataset.author;
    document.getElementById("modalCategory").innerText = book.dataset.category;
    document.getElementById("modalDesc").innerText = book.dataset.desc;
    document.getElementById("modalStatus").innerText = book.dataset.status;

    let borrowBtn = document.getElementById("borrowButton");
    borrowBtn.disabled = book.dataset.status.toLowerCase().includes("out");
    
    document.getElementById("modalBg").style.display = "flex";
}

function closeModal(){
    document.getElementById("modalBg").style.display = "none";
}

function goToBorrow(){
    window.location.href = "Book borrow details.html?book=" + encodeURIComponent(selectedBook);
}

loadBooks();
</script>
</body>
</html>
